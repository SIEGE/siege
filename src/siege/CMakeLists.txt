CMAKE_MINIMUM_REQUIRED(VERSION 2.6)
OPTION(BUILD_SIEGE "Build the SIEGE library" ON)

IF(BUILD_SIEGE)
    PROJECT(SIEGE)

    FILE(GLOB_RECURSE SIEGE_SOURCES *.c)
    ADD_LIBRARY(SIEGE SHARED ${SIEGE_SOURCES})
    IF(UNIX)
        TARGET_LINK_LIBRARIES(SIEGE dl m)
    ENDIF(UNIX)

    INSTALL(TARGETS ${PROJECT_NAME} DESTINATION lib)
ENDIF(BUILD_SIEGE)
